<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://use.typekit.net/rwn3viz.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serena Eom</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
    @font-face {
        font-family: 'Traulha Regular';
        src: url('./fonts/TraulhaTEST-Regulara.otf') format('opentype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
        }

    @font-face {
        font-family: 'Traulha Journau';
        src: url('./fonts/TraulhaTEST-Jornau.otf') format('opentype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
        }

    @font-face {
        font-family: 'Traulha Lineara';
        src: url('./fonts/TraulhaTEST-Lineara.otf') format('opentype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
        }

    @font-face {
        font-family: 'Traulha Italic';
        src: url('./fonts/TraulhaTEST-Italica.otf') format('opentype');
        font-weight: normal;
        font-style: italic;
        font-display: swap;
        }

    @font-face {
        font-family: 'Traulha Clinat';
        src: url('./fonts/TraulhaTEST-Clinat') format('opentype');
        font-weight: normal;
        font-style: italic;
        font-display: swap;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            max-width: 100%;
        }

        body {
            background: #f4f1ef;
            overflow: hidden;
            height: 100vh;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100vh;
        }

        .mind-map {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        .mind-map.visible {
            opacity: 1;
        }

        .node {
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
        }

        .node, .link {
            transition: opacity 0.3s ease;
        }

        .node text{
            transition: opacity 0.3s ease;
        }

        .node rect {
            fill: #f4f1ef;
        }

        .node text {
            text-anchor: middle;
            dominant-baseline: middle;
            font-family: 'baskerville', serif;
            font-size: 1em;
        }

        .node.center text {
            font-family: 'Traulha Regular', sans-serif;
            font-size: 1.2em;
            text-transform: uppercase;
        }

        #hoverPreview{
            position: absolute;
            pointer-events: none;
            display: none;
            z-index: 10;
            width: 300px;
            height: auto;
            background: #fff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-radius: 8px;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.1s ease;
        }

        #hoverPreview.visible {
            opacity: 1;
        }

        .detail-content-container {
            position: relative;
            height:100%;
            overflow-y: auto;
            width: 50vw;
            top: 2vh;
            left: 2vw;
            bottom: 2vh;
            height: 95vh;
            background: #fffcfa;
            padding: 40px;
            padding-bottom: 100px;
            border-radius: 1.5%;
        }

        .detail-panel {
            position: relative;
            width: 100%;
            display: none;
            z-index: 3;
            font-family: 'baskerville', serif;
            line-height: 1.3;
        }

        .scroll-hint {
            position: absolute;
            top: 40px;
            right: 40px;
            pointer-events: none;
            animation: rotateHint 120s linear infinite;
            z-index: 10;
            }

@keyframes rotateHint {
  from { transform: rotate(360deg); }
  to { transform: rotate(0deg); }
}

        .detail-panel-nav {
            position: absolute;
            padding-left: 40px;
            padding-right: 40px;
            padding-bottom: 8px;
            padding-top: 8px;
            gap: 12px;
            left: 2vw;
            bottom: -3vh;
            min-height: 80px;
            width: 50vw;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            background: #fffcfa;
            border-top: rgb(255, 109, 81, 0.2) 1px solid;
            z-index: 4;
            border-bottom-left-radius: 5%;
            border-bottom-right-radius: 5%;
            align-items: center;
            font-family: 'space mono', monospace;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.7em;
        }

        .detail-panel-text{
            flex: 1 1 156px;
            text-align: left;
        }

        .btn-group {
            padding-left: 4px;
            display: flex;
            flex-wrap: nowrap;
            flex: 0 0 auto;
            gap: 2px;
            min-width: 212px;
        }

        .details-list {
            list-style: none;
            padding: 0;
            margin-top: 28px;
            margin-bottom: 36px;
            font-family: 'space mono', monospace;
            font-size: 0.75rem;
            color: #444;
        }

        .details-list li {
            display: flex;
            align-items: flex-start;   
            gap: 1rem;                
            border-top: 1px solid #ddd;
            padding-top: 0.75rem;
            margin-bottom: 1.2rem;
        }

        .details-list .label {
            min-width: 80px;           
            text-transform: uppercase;
            font-weight: normal;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            color: #666;
        }

        .details-list .value {
            display: inline;
            color: #111;
        }

        .details-list .value a {
        text-decoration: none;
        color: inherit;
        }

        .details-list .value a:hover {
        color: #FF6D51;
        font-weight: 600;
        text-decoration: underline;
        }

        .detail-panel.active {
            display: block;
            animation: slideInLeft 0.4s ease forwards;
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .detail-panel.closing {
            animation: slideOutLeft 0.4s ease forwards;
        }

        @keyframes slideOutLeft {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(-100%);
                opacity: 0;
            }
        }
        
        .close-btn {
            border: #FF6D51 1px solid;
            padding: 12px 20px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 30px;
            margin-right: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'space mono', monospace;
            text-transform: uppercase;
        }

        .close-btn:hover {
            background-color: #f4f1ef;
            border: #FF6D51 1px solid;
            transform: translateY(-2px);
        }

        .icon {
        width: 16px;
        height: 16px;
        vertical-align: middle;
        }

        h2 {
            margin-bottom: 6px;
            font-family: 'traulha Regular', sans-serif;
            font-size: 2em;
            text-transform: uppercase;
            font-weight: normal;
            font-style: normal;
            font-display: swap;
            line-height: 1.3;
        }

        h3 {
            margin-bottom: 6px;
            font-family: 'traulha Regular', sans-serif;
            font-size: 0.8em;
            text-transform: uppercase;
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        p1 {
            font-size: 1.2em;
            font-family: 'baskerville', serif;
            font-weight: regular;
            line-height: 1.4;
        }
        
        .project-paragraph{
            padding-top: 6px;
            margin-bottom: 20px;
        }

        .project-paragraph a {
            color: #FF6D51;
            text-decoration: none;
            font-family: 'traulha Italic', sans-serif;
            font-size: 0.9em;
            font-weight: normal;
            font-style: italic;
            font-display: swap;
        }

        .project-paragraph a:hover {
            text-decoration: underline;
        }

        .caption {
            font-family: 'space mono', monospace;
            font-size: 0.75em;
            font-weight: regular;
            margin-bottom: 20px;
            letter-spacing: 0.02em;
            font-style: italic;
            opacity: 0.5;
        }

        .project-header {
            width: 100%;
        }

        .project-role {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 500;
        }

        .project-type {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 5px;
        }

        .project-team {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 5px;
        }

        .project-video {
            width: 100%;
            margin-bottom: 36px;
        }

        .project-video video {
        width: 100%;
        height: auto;
        max-width: 100%;
        display: block;
        object-fit: cover;
        }

        .project-video.vertical video {
            aspect-ratio: 9/16;
            max-height: 400px;
            max-width: 100%;
            width: auto;
            object-fit: cover;
            display: block;
            margin: 0 auto;
            }

        .project-image {
            width: 100%;
            margin-bottom: 36px;
        }

        .project-image img {
            width: 100%;
            aspect-ratio: 4/3;
            object-fit: cover; /* fills the box and crops if necessary */
            display: block;
            margin-bottom: 8px;
        }

        .carousel {
  position: relative;
  overflow: hidden;
  width: 100%;
  aspect-ratio: 3/2;
  margin-bottom: 36px;
}

.carousel-track {
  display: flex;
  height: 100%;
  transition: transform 0.4s ease;
}

.carousel-slide {
  min-width: 100%;
  height: 100%;
  flex-shrink: 0;
}

.carousel-slide figure {
  height: 100%;
  margin: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.carousel-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  flex-grow: 1;
}

.carousel-slide .caption {
  font-family: 'space mono', monospace;
  font-size: 0.75em;
  margin-top: 8px;
  opacity: 0.5;
  font-style: italic;
  text-align: center;
}

        .carousel-btn {
        position: absolute;
        top: 50%;
        border: #FF6D51 1px solid;
        background-color: #fffcfa;
        padding: 12px 20px;
        padding-bottom: 12px;
        border-radius: 30px;
        margin-right: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 1;
        }

        .carousel-btn:hover{
            background-color: #f4f1ef;
            border: #FF6D51 1px solid;
            transform: translateY(-2px);
        }

        .carousel-btn.prev {
        left: 10px;
        }

        .carousel-btn.next {
        right: 10px;
        }

        .project-description {
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .project-details h4 {
            color: #2d1b69;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .project-details ul {
            margin-left: 20px;
            color: #555;
        }

        .project-details li {
            margin-bottom: 5px;
        }

        .experiments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .specialty-card {
            background: linear-gradient(135deg, #ffe66d, #ffb74d);
            padding: 20px;
            border-radius: 15px;
            color: #9E978E;
        }

        .specialty-card h4 {
            margin-bottom: 10px;
            font-weight: 600;
        }

        .contact-emoji {
            font-size: 20px;
            width: 30px;
            text-align: center;
        }

        .loading-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            font-weight: 300;
            text-align: center;
            z-index: 1000;
            opacity: 1; 
            transition: opacity 0.6s ease;
        }

        .loading-text.fade-out {
        opacity: 0; 
        }

        .navigation {
            position: absolute;
            bottom: 25px;
            right: 25px;
            z-index: 2;
        }

        .nav-btn {
            border: #FF6D51 1px solid;
            padding: 12px 20px;
            border-radius: 30px;
            margin-right: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #f4f1ef;
        }

        .nav-btn:hover {
            background-color: #fffcfa;
            border: #FF6D51 1px solid;
            transform: translateY(-2px);
        }

        .experience-highlight {
            font-family: 'Traulha Regular', sans-serif;
            font-size: 1.2em;
            padding-bottom: 10px;
        }

        .experience-highlight a {
            color: #FF6D51;
            text-decoration: none;
            font-family: 'traulha Italic', sans-serif;
            font-size: 1.1em;
            font-weight: normal;
            font-style: italic;
            font-display: swap;
            line-height: 1.3;
        }

        .experience-highlight a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="navigation">
            <button class="nav-btn" onclick="resetView()"><img src="./icons/rotate-left.svg" alt="exit" class="icon"></button>
        </div>
        
        <div class="loading-text">Building Serena's creative universe...</div>
        <svg class="mind-map"></svg>
        
        <div id="hoverPreview">
            <img id="hoverPreviewImg" src="" style="width: 100%; display: block;">
        </div>

        <div class="detail-panel" id="detailPanel">
            <div class="detail-content-container">
                <div class="scroll-hint" id="scrollHint">
                    <svg viewBox="0 0 200 200" width="100" height="100">
                        <defs>
                        <path id="circlePath" d="M100,100 m-55,0 a55,55 0 1,1 110,0 a55,55 0 1,1 -110,0" />
                        </defs>
                        <text fill="#FF6D51" font-size="20" font-family="Space Mono" letter-spacing="1">
                        <textPath href="#circlePath" startOffset="0%">
                            · SCROLL DOWN TO SEE MORE
                        </textPath>
                        </text>
                    </svg>
                </div>
                <div id="detailContent"></div>
            </div>
            <div class="detail-panel-nav">
            <div class="detail-panel-text">
                Use esc to close and arrows to navigate through projects
            </div>
            <div class="btn-group">
                <div class="close-btn" onclick="closeDetail()">
                <img src="./icons/xmark-large.svg" alt="exit" class="icon">

                </div>
                <div class="close-btn" onclick="ArrowLeft()">
                    <img src="./icons/arrow-left.svg" alt="previous" class="icon">
                </div>
                <div class="close-btn" onclick="ArrowRight()">
                    <img src="./icons/arrow-right.svg" alt="next" class="icon">
                </div>
            </div>
            </div>
        </div>
    </div>

    <script>
        const portfolioData = {
            name: "Serena Eom",
            title: "Brand & Identity Designer",
            nodes: [
                {
                    id: "center",
                    name: "Serena Eom",
                    type: "center",
                    x: 0,
                    y: 0
                },
                {
                    id: "projects",
                    name: "Projects",
                    type: "category",
                    x: -250,
                    y: -120
                },
                {
                    id: "experiments",
                    name: "Experiments",
                    type: "category",
                    x: 200,
                    y: 120
                },
                {
                    id: "about",
                    name: "About",
                    type: "category",
                    x: -40,
                    y: 100
                },
                {
                    id: "contact",
                    name: "Contact",
                    type: "category",
                    x: 50,
                    y: -120
                },
                // Featured Projects
                {
  id: "spheres",
  name: "Spheres Conference",
  type: "project",
  parent: "projects",
  x: -380,
  y: -10,
  details: {
    title: "Spheres Conference",
    role: "Art director & designer",
    type: "Branding, print design, environmental design, motion design, gallery design",
    team: "Dani Moalem, Creative Director</br>Ben Nelson, Motion Designer</br>Manifold, Production agency",

    blocks: [
      {
        type: "paragraph",
        text: 'Led the complete visual identity development for <a href="https://mercury.com/spheres" target="_blank" rel="noopener noreferrer"> Spheres Conference</a>, from initial concept through final execution. This large-scale project required extensive cross-collaboration with external production agencies, C-Suite stakeholders, and teams.',
      },
      {
        type: "video",
        src: "./projects/spheres/2025-01-13_Spheres_announcement_teaser_16x9.mp4",
        poster: "./projects/spheres/spheres_videoposter.webp",
        preload: "metadata",
        caption: "Announcement teaser. Motion design by Ben Nelson. Music by Sean Klassen."
      },
      {
        type: "image",
        src: "./projects/spheres/Mercury-Spheres-Finals-69.webp",
        hidden:true
      },
      {
        type: "paragraph",
        text: "Due to the scale of the project, I put together guidelines to ensure consistency and quality throughout the different touchpoints. The identity of the conference had to flex from physical space to the digital web."
      },
      {
        type: "image",
        src: "./projects/spheres/playbook.png"
      },
      {
        type: "paragraph",
        text: "Every detail in the physical space was intentional, from macro to micro. Seamless integration of screens, looping ambient visuals, and transitions. The lighting was designed to create warmth and some moodiness, taking the audience into the Mercury Sphere universe. Sculptural objects, greenery, books, props to reinforce brand tone. While custom signage and entry moments provided practical and visual reinforcement. As a result, all the tactile experiences — large and small — brought the branding to life."
      },
      {
        type: "carousel",
        label: "Environmental Design",
        images: [
          { src: "./projects/spheres/Mercury-Spheres-Finals-49.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-3.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-7.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-68.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-85.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-53.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-79.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-69.webp", caption: "test" }
        ]
      },
      {
        type: "paragraph",
        text: "We wanted to showcase some of our customers at the conference to share with attendees their story and how Mercury has been a part of their journey. This installation transforms our customer's journey into a sensory, immersive experience. We created artifacts and supporting elements to help tell the featured customers' story — bridging a deep emotional connection with attendees. By highlighting how founders engage with Mercury products along the way, we reinforce their role as essential tools for startup success — not just as financial infrastructure, but as strategic enablers of growth."
      },
      {
        type: "carousel",
        label: "Customer Stories",
        images: [
          { src: "./projects/spheres/Mercury-Spheres-Finals-113.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-16.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-18.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-20.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-21.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-22.webp", caption: "test" },
          { src: "./projects/spheres/Mercury-Spheres-Finals-76.webp", caption: "test" }
        ]
      }
    ]
  }
},
                {
                    id: "meridian",
                    name: "Meridian Magazine",
                    type: "project",
                    parent: "projects",
                    x: -600,
                    y: -200,
                    details: {
                        title: "Meridian Magazine",
                        role: "Art director & designer",
                        type: "Print design, system development",
                        team: "Meghna Rao, Editor-in-Chief</br>Jayme Yen, Designer</br>Kaitlin Banafsheha, Designer",
                        
                        blocks: [
                            {
                                type: "paragraph",
                                text: "Led the development of Mercury's print magazine, Meridian. Meridian features untold stories in tech for founders. I was responsible for creating compelling visual narratives that complemented stories and maintain brand consistency.",
                            },
                            {
                                type: "image",
                                src: "./projects/meridian/Meridian-Pivot-Cover.webp",
                                caption: "Cover of Meridian Magazine, Pivot Issue"
                            },
                            {
                                type: "image",
                                src: "./projects/meridian/0089_001.webp",
                                caption: "Design by Serena Eom"
                            },
                            {
                                type: "image",
                                src: "./projects/meridian/0090_001.webp", 
                                caption: "Illustration by Ryan Nguyen. Layout by Jayme Yen."
                            },
                            {
                                type: "image",
                                src: "./projects/meridian/0091_001.webp", 
                                caption: "Photography by Derek Yarra. Layout by Serena Eom."
                            },
                            {
                                type: "image",
                                src: "./projects/meridian/0096_001.webp", 
                                caption: "Design by Serena Eom"
                            },
                            {
                                type: "image",
                                src: "./projects/meridian/0098_001.webp", 
                                caption: "Layout by Kaitlin Banafsheha"
                            },
                                ]
                        }
                    },

{
  id: "city",
  name: "City State",
  type: "project",
  parent: "projects",
  x: -300,
  y: -300,
  details: {
    title: "City State",
    role: "Designer",
    type: "Cover design",

    blocks: [
        {
            type: "paragraph",
            text: '<a href="https://elysian.metalabel.com/city-state?variantId=1" target="_blank" rel="noopener noreferrer">City-state</a> is a publication focused on autonomous governance, online platforms, and how we can build spaces we genuinely want to live, work, and play in. It explores ways to create a system that serves everyone.</br>The intention of the cover is to show City-states as dynamic entities, constantly shaped by boundaries that are influenced by how we live, work, and interact. These boundaries can emerge naturally, drawn by rivers, mountains, or coastlines, or be constructed by human hands, reflecting social, political, and cultural forces. Just as maps evolve over time, so too do the cities and states that carve out our world. This concept explores how these boundaries—fluid, ever-changing—hold us together and divide us, influencing the very fabric of our collective existence.',
        },
        {
            type: "image",
            src:"./projects/city/CityStateCover_4x3.webp",
        },
    ]
  }
},

{id: "aura",
  name: "Mercury Aura",
  type: "project",
  parent: "projects",
  x: -40,
  y: -230,
  details: {
    title: "Mercury Aura",
    role: "Lead Designer",
    type: "Brand system",
    team: "Isaac Daniels, Staff Designer</br>Matt Wright, Senior Product Designer</br>Wandi Liu, Senior Product Designer",

    blocks: [
        {
            type: "paragraph",
            text: "Inconsistencies pop up as a system of the rapid growth of the Mercury product. One of the primary inconsistenies was the use of color between brand and product. It become a significant issue, compromising the integrity of our brand and hampering our ability to fully realize the potential of our brand archetype. This lead to confusion among potential and existing customers, affecting their decision-making process and interactions with Mercury."
        },
        {
            type: "paragraph",
            text: "With this opportunity, we established a cohesive parental color palette that serves as the single source of truth for brand, product, and organizational requirements. Developed a color scheme that draws from and is influenced by The Alchemist archetype. Equipping us with the means to consistently empower both creative expression and essential practical needs.",
        },
        {
            type: "image",
            src:"./projects/aura/productillustration.png",
            caption: "Aura palette in use in a product illustration"
        },
        {
            type: "image",
            src:"./projects/aura/fullpallete_4x3.png",
            caption: "Full aura palette complete with HEX, CMYK, PMS, and alpha values"
        },
    ]
  }
},
                        
                // Personal projects and experiemnts
                {
                    id: "thought",
                    name: "Thought and Memory",
                    type: "project",
                    parent: "experiments",
                    x: 250,
                    y: -50,
                    details: {
                        title: "Thought and Memory",
                        role: "Creator, designer, producer",
                        type: "Book design, print design, production design",
                        status: "In progress",
                        blocks: [
                            {
                                type: "paragraph",
                                text: "A collection of thoughts and memories that sit in the back of our minds. Buried in an attempt to be forgotten but never dead. These thoughts and memories have shaped or influenced us in some way, whether positive or negative it simply exists.",
                            },
                            {
                                type: "image",
                                src: "./projects/thought/coin_dig_site_light.webp",
                                hidden:true
                            },
                            {
                                type: "video",
                                src: "./projects/thought/inthediningroom.mp4",
                                poster: "./projects/thought/inthediningroom_videoposter.webp",
                                preload: "metadata",
                                orientation: "vertical"
                            },
                            {
                                type: "video",
                                src: "./projects/thought/allartifacts.mp4",
                                poster: "./projects/thought/allartifacts_videoposter.webp",
                                preload: "metadata",
                                orientation: "vertical"
                            },
                        ]
                    }
                },
                {
                    id: "website",
                    name: "Portfolio site",
                    type: "project",
                    parent: "experiments",
                    x: 500,
                    y: 20,
                    details: {
                        title: "Portfolio site",
                        role: "Designer, coder, AI wrangler",
                        type: "Web design",
                        status: "In progress",
                        blocks: [
                            {
                                type: "image",
                                src: "./projects/website/evolutionofworlds.webp",
                                hidden:true
                            },
                            {
                                type: "paragraph",
                                text: "Utilizing ChatGPT, my own knowledge of HTML, CSS, JavaScript, and some support from a willing partner, I developed the core functionality of this portfolio website. Going through the process helped me understand the limitations and capabilities of ChatGPT and AI models. Although it did help me troubleshoot and explain concept to me, it still suffered limitations in bug bashing and creating elegant solutions in my code. Software developers don't look at the code too closely.",
                            },
                             {
                                type: "paragraph",
                                text: "I enjoy exploring different notions, ideas and seeing where my rabbit hole takes me. I wanted to express that through this website and give viewers and edited version of what goes on in my mind.",
                            },
                            {
                                type: "list",
                                label:"Laundry list",
                                items: [
                                "Mobile friendly version",
                                "Add loading animation",
                                "Expanding details panel",
                                "Add Chinese language support",
                                "Clean up code",
                                ]
                            },
                        ]
                    }
                },

                // {
                //     id: "environmental",
                //     name: "Environmental Design",
                //     type: "project",
                //     parent: "experiments",
                //     x: 400,
                //     y: 140,
                //     details: {
                //         title: "Test 3",
                //         role: "Art Director & Layout Designer",
                //         type: "Ongoing - 2 Issues Completed",
                //         test: "Test",
                //         description: "Art directed and designed layouts for Mercury's print magazine, Meridian, which features inspiring stories in tech for founders. Responsible for creating compelling visual narratives that complement unexpected stories and maintain brand consistency.",
                //         scope: [
                //             "Art direction for editorial content",
                //             "Layout design and typography",
                //             "Visual storytelling development",
                //             "Print production coordination",
                //             "Brand consistency maintenance"
                //         ]
                //     }
                // },
                // {
                //     id: "illustration",
                //     name: "Illustration",
                //     type: "project",
                //     parent: "experiments",
                //     x: 280,
                //     y: 280,
                //     details: {
                //         title: "Test 4",
                //         role: "Art Director & Layout Designer",
                //         type: "Ongoing - 2 Issues Completed",
                //         team: "Test",
                //         description: "Art directed and designed layouts for Mercury's print magazine, Meridian, which features inspiring stories in tech for founders. Responsible for creating compelling visual narratives that complement unexpected stories and maintain brand consistency.",
                //         scope: [
                //             "Art direction for editorial content",
                //             "Layout design and typography",
                //             "Visual storytelling development",
                //             "Print production coordination",
                //             "Brand consistency maintenance"
                //         ]
                //     }
                // }
            ],
            links: [
                { source: "center", target: "projects" },
                { source: "center", target: "experiments" },
                { source: "center", target: "about" },
                { source: "center", target: "contact" },
                { source: "projects", target: "spheres" },
                { source: "projects", target: "meridian" },
                { source: "projects", target: "city" },
                { source: "projects", target: "aura" },
                { source: "experiments", target: "thought" },
                { source: "experiments", target: "website" },
                // { source: "experiments", target: "covers" },
                // { source: "experiments", target: "environmental" },
                // { source: "experiments", target: "illustration" }
            ]
        };

        // Keep track of the currently focused node
        const projectNodes = portfolioData.nodes.filter(d => d.type === 'project');
            let currentProjectIndex = null;

        //On click detail panel
    function ArrowRight() {
  if (currentProjectIndex === null) return;
  currentProjectIndex = (currentProjectIndex + 1) % projectNodes.length;
  const next = projectNodes[currentProjectIndex];
  showProjectDetail(next.details);
}

function ArrowLeft() {
  if (currentProjectIndex === null) return;
  currentProjectIndex = (currentProjectIndex - 1 + projectNodes.length) % projectNodes.length;
  const prev = projectNodes[currentProjectIndex];
  showProjectDetail(prev.details);
}
        
        //User panning
            let userHasPanned = false;
        
        // D3.js visualization setup
        const width = window.innerWidth;
        const height = window.innerHeight;

        const svg = d3.select('.mind-map')
            .attr('width', width)
            .attr('height', height);

        const g = svg.append('g'); // Global group for all elements

        const linkGroup = g.append('g').attr('class', 'links');
        const nodeGroup = g.append('g').attr('class', 'nodes');

        // Then bind data to links and nodes
        const link = linkGroup.selectAll('path')
            .data(portfolioData.links)
            .join('path')
            .attr('class', 'link')
            .attr('fill', 'none')
            .attr('stroke', '#FF6D51')
            .attr('stroke-width', 1);

        const node = nodeGroup.selectAll('g')
            .data(portfolioData.nodes)
            .join('g');

        //Zoom definition
        const zoom = d3.zoom()
        .scaleExtent([1, 1]) // no zoom, just pan
        .on('zoom', (event) => {
            userHasPanned = true; // <- detect panning
            g.attr('transform', event.transform); // pan the whole group
        });

        // First activate zoom behavior on SVG
        svg.call(zoom);

        // Then apply initial pan to center it
        svg.call(
        zoom.transform,
        d3.zoomIdentity.translate(window.innerWidth / 2, window.innerHeight / 2)
        );

        //Splits nodes to dfferent levels    
        const firstLevelNodes = node.filter(d => ['projects', 'experiments', 'about', 'contact'].includes(d.id));
        const secondLevelNodes = node.filter(d => ['spheres', 'meridian', 'city', 'aura', 'thought', 'website', 'environmental', 'illustration'].includes(d.id));

        // Position nodes relative to the center (they are now inside g). Translate tells D3 where to place the group
        firstLevelNodes.attr('transform', d => `translate(${d.x}, ${d.y})`);
        secondLevelNodes.attr('transform', d => `translate(${d.x}, ${d.y})`);    

        // Update path lines with coordinates relative to 0,0 since g is centered
            link.attr('d', d => {
                const source = portfolioData.nodes.find(n => n.id === d.source);
                const target = portfolioData.nodes.find(n => n.id === d.target);
                return `M${source.x},${source.y} L${target.x},${target.y}`;
            });
        

        // For link animation
        const firstLevelLinks = link.filter(d => d.source === 'center');
        const secondLevelLinks = link.filter(d => d.source !== 'center');

        //Unclickable nodes
        const nonClickableIds = ['projects', 'experiments', 'center'];
       
        node
            .attr('class', d => `node ${d.type} ${nonClickableIds.includes(d.id) ? 'non-clickable' : ''}`)
            .style('cursor', d => nonClickableIds.includes(d.id) ? 'default' : 'pointer')
            .on('click', handleNodeClick);

        //Node hover state
        node
            .attr('class', d => `node ${d.type} ${nonClickableIds.includes(d.id) ? 'non-clickable' : ''}`)
            .style('cursor', d => nonClickableIds.includes(d.id) ? 'default' : 'pointer')
            .on('click', handleNodeClick)
           .on('mouseenter', function(event, hoveredNode) {
            const connectedNodeIds = new Set();

            portfolioData.links.forEach(link => {
                if (link.source === hoveredNode.id) {
                connectedNodeIds.add(link.target);
                } else if (link.target === hoveredNode.id) {
                connectedNodeIds.add(link.source);
                }
            });
            connectedNodeIds.add(hoveredNode.id);

            // Dim unrelated node text
            node.select('text').style('opacity', d =>
                connectedNodeIds.has(d.id) ? 1 : 0.3
            );

            // Dim unrelated links
            link.style('opacity', l =>
                l.source === hoveredNode.id || l.target === hoveredNode.id ? 1 : 0.3
            );

            // ⬇️ Show preview image if available
            const previewContainer = document.getElementById('hoverPreview');
            const previewImg = document.getElementById('hoverPreviewImg');

            if (hoveredNode.details && hoveredNode.details.blocks) {
                const firstImageBlock = hoveredNode.details.blocks.find(
                b => b.type === 'image' && b.hidden
                ) || hoveredNode.details.blocks.find(
                b => b.type === 'image' && !b.hidden
                );
                if (firstImageBlock) {
                previewImg.src = firstImageBlock.src;
                previewContainer.style.display = 'block';
                    setTimeout(() => {
                        previewContainer.classList.add('visible');
                    });
                }
            }
            })
            .on('mousemove', function(event) {
            // Follow cursor
            const previewContainer = document.getElementById('hoverPreview');
            previewContainer.style.left = `${event.pageX + 20}px`;
            previewContainer.style.top = `${event.pageY + 20}px`;
            })
            .on('mouseleave', function() {
            // Reset opacities
            node.select('text').style('opacity', 1);
            link.style('opacity', 1);

            // Hide preview
            const previewContainer = document.getElementById('hoverPreview');
            previewContainer.classList.remove('visible');
                setTimeout(() => {
                previewContainer.style.display = 'none';
                previewImg.src = '';
                }, 200);
            });

        //Rectangle behind node text
        const nodeEnter = node.append('g');
        nodeEnter.append('text')
            .text(d => d.name)
            .attr('text-anchor', 'middle')
            .attr('alignment-baseline', 'middle')
            .attr('class', 'node-label')

        nodeEnter.insert('rect', 'text')
            .each(function(_, i) {
                const textEl = d3.select(this.parentNode).select('text').node();
                const bbox = textEl.getBBox();
                const paddingX = 16;
                const paddingY = 8;

                d3.select(this)
                    .attr('x', bbox.x - paddingX)
                    .attr('y', bbox.y - paddingY)
                    .attr('width', bbox.width + paddingX * 2)
                    .attr('height', bbox.height + paddingY * 2);
            });

        // Handle node clicks
            function handleNodeClick(event, d) {
                if (d.type === 'project') {
                    currentProjectIndex = projectNodes.findIndex(p => p.id === d.id);
                    setTimeout(() => {
                    showProjectDetail(d.details);
                }, 150); // delay in milliseconds
                } else if (d.id === 'contact') {
                    setTimeout(() => {
                        showContactDetail(d.details);
                        }, 150); // delay in milliseconds
                } else if (d.id === 'about') {
                    setTimeout(() => {
                        showAboutDetail(d.details);
                        }, 150); // delay in milliseconds
                } else if (d.id === 'experiments') {
                    setTimeout(() => {
                        showExperimentsDetail(d.details);
                        }, 150); // delay in milliseconds
                } else if (d.type === 'specialty') {
                    setTimeout(() => {
                        showSpecialtyDetail(d.details);
                        }, 150); // delay in milliseconds
                }
            }

function showProjectDetail(details) {
  // Build the body content block by block
  let bodyHTML = '';

  if (details.blocks && Array.isArray(details.blocks)) {
    bodyHTML = details.blocks.map(block => {
      if (block.type === 'paragraph') {
        return `<p class="project-paragraph">${block.text}</p>`;
      }

if (block.type === 'video') {
  const isVertical = block.orientation === 'vertical';
  const posterAttr = block.poster ? `poster="${block.poster}"` : '';
  const preloadAttr = block.preload ? `preload="${block.preload}"` : 'preload="metadata"';

  return `
    <div class="project-video${isVertical ? ' vertical' : ''}">
      <video controls playsinline muted ${preloadAttr} ${posterAttr}>
        <source src="${block.src}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      ${block.caption ? `<figcaption class="caption">${block.caption}</figcaption>` : ''}
    </div>
  `;
}



      if (block.type === 'image' && !block.hidden) {
        return `
            <div class="project-image">
            <img src="${block.src}" alt="">
            ${block.caption ? `<figcaption class="caption">${block.caption}</figcaption>` : ''}
            </div>
        `;
}

      if (block.type === 'carousel') {
        return `
          <div class="carousel-block">
            <div class="carousel">
              <div class="carousel-track">
                ${block.images.map((img, i) => `
                  <div class="carousel-slide ${i === 0 ? 'active' : ''}">
                    <figure>
                      <img src="${img.src}" alt="">
                      ${img.caption ? `<figcaption class="caption">${img.caption}</figcaption>` : ''}
                    </figure>
                  </div>
                `).join('')}
              </div>
              <div class="carousel-btn prev">
                <img src="./icons/arrow-left.svg" alt="left" class="icon">
              </div>
              <div class="carousel-btn next">
                <img src="./icons/arrow-right.svg" alt="right" class="icon">
              </div>
            </div>
          </div>
        `;
      }

    if (block.type === 'list') {
    return `
        ${block.label ? `<h3 class="list-label">${block.label}</h3>` : ''}
        <ul class="project-list">
        ${block.items.map(item => `<li>${item}</li>`).join('')}
        </ul>
    `;
    }

      return ''; // fallback for unknown block types
    }).join('');
  }

  // Build the full content string
const content = `
  <div class="project-header">
    <h2>${details.title}</h2>
    <ul class="details-list">
      ${details.role ? `<li><span class="label">Role</span><div class="value">${details.role}</div></li>` : ''}
      ${details.type ? `<li><span class="label">Type</span><div class="value">${details.type}</div></li>` : ''}
      ${details.team ? `<li><span class="label">Team</span><div class="value">${details.team}</div></li>` : ''}
      ${details.status ? `<li><span class="label">Status</span><div class="value">${details.status}</div></li>` : ''}
    </ul>
  </div>
  <div class="image-gallery">${bodyHTML}</div>
`;

  // Inject content and show panel
  const container = document.getElementById('detailContent');
  container.innerHTML = content;

  // Scroll to top of the detail panel
const contentContainer = document.querySelector('.detail-content-container');
contentContainer.scrollTop = 0;

requestAnimationFrame(() => {
  checkScrollHintVisibility();
});

  // Activate detail panel
  const panel = document.getElementById('detailPanel');
  panel.style.display = 'block';
  panel.classList.remove('closing');
  void panel.offsetWidth;
  panel.classList.add('active');

  // Attach carousel logic
  document.querySelectorAll('.carousel').forEach(carousel => {
    const track = carousel.querySelector('.carousel-track');
    const slides = carousel.querySelectorAll('.carousel-slide');
    let currentIndex = 0;

    const updateCarousel = () => {
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
    };

    carousel.querySelector('.carousel-btn.next')?.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % slides.length;
      updateCarousel();
    });

    carousel.querySelector('.carousel-btn.prev')?.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + slides.length) % slides.length;
      updateCarousel();
    });
  });
}

    //Scroll hint
function checkScrollHintVisibility() {
  const contentContainer = document.querySelector('.detail-content-container');
  const scrollHint = document.getElementById('scrollHint');

  if (!contentContainer || !scrollHint) return;

  const hasOverflow = contentContainer.scrollHeight > contentContainer.clientHeight;

  scrollHint.style.display = hasOverflow ? 'block' : 'none';
}

        function showContactDetail() {
        const scrollHint = document.getElementById('scrollHint');
            if (scrollHint) scrollHint.style.display = 'none';
            const content = `
                <h2>Let's Connect</h2>
                <p style="margin-bottom: 25px; color: #666; line-height: 1.6;">
                    Ready to collaborate on your next big project? Let's discuss how we can create something amazing together.
                </p>
                <div class="contact-info">
                        <ul class="details-list">
                            <li>
                                <span class="label">Email</span>
                                <div class="value">
                                    <a href="mailto:serenaeomis@gmail.com" target="_blank" rel="noopener noreferrer">
                                        serenaeomis@gmail.com
                                    </a>    
                                </div>
                            </li>
                        </ul>
                        <ul class="details-list">
                            <li>
                                <span class="label">LinkedIn</span>
                                <div class="value">
                                    <a href="https://linkedin.com/in/serenaeom" target="_blank" rel="noopener noreferrer">
                                        /serenaeom
                                    </a>    
                                </div>
                            </li>
                        </ul>
                        <ul class="details-list">
                            <li>
                                <span class="label">Instagram</span>
                                <div class="value">
                                     <a href="https://instagram.com/serena_eom" target="_blank" rel="noopener noreferrer">
                                        @serena_eom
                                    </a>
                                </div>
                            </li>
                        </ul>
                </div>
            `;
            document.getElementById('detailContent').innerHTML = content;
            const panel = document.getElementById('detailPanel');
                panel.style.display = 'block';         
                panel.classList.remove('closing');    
                void panel.offsetWidth;              
                panel.classList.add('active');
        }

        function showAboutDetail() {
        const scrollHint = document.getElementById('scrollHint');
  if (scrollHint) scrollHint.style.display = 'none';
            const content = `
                <h2>About</h2>
                
                <div class="experience-highlight">
                    I'm a multidisciplinary designer with a passion for creating comprehensive visual systems that tell compelling stories. My work spans from intimate print publications to large-scale events. I thrive on projects that push creative boundaries while maintaining strategic focus.
                </div>
                <div class="experience-highlight">
                    In my free time I enjoy staying busy through bouldering, running, MMA, various art projects, and doom scrolling through <a href="https://www.are.na/serena-eom/channels" target="_blank" rel="noopener noreferrer">Are.na</a>.
                </div>
                `;
            document.getElementById('detailContent').innerHTML = content;
            const panel = document.getElementById('detailPanel');
                panel.style.display = 'block';         
                panel.classList.remove('closing');    
                void panel.offsetWidth;              
                panel.classList.add('active');
        }

        function showexperimentsDetail() {
            const content = `
                <h2>Design experiments</h2>
                <p style="margin-bottom: 25px; color: #666; line-height: 1.6;">
                    Five years of experience across multiple design disciplines, with a focus on comprehensive visual systems and innovative brand expression.
                </p>
                
                <div class="experiments-grid">
                    <div class="specialty-card">
                        <h4>Brand & Identity</h4>
                        <p>Comprehensive visual identity systems from concept to execution, including logo design, brand guidelines, and system scalability across all touchpoints.</p>
                    </div>
                    
                    <div class="specialty-card">
                        <h4>Print Design</h4>
                        <p>Editorial design, magazine layouts, and premium print experiences. Expertise in typography, information hierarchy, and print production processes.</p>
                    </div>
                    
                    <div class="specialty-card">
                        <h4>Environmental Design</h4>
                        <p>Large-scale environmental graphics, event design, and spatial brand applications. Creating immersive experiences that extend brand identity into physical spaces.</p>
                    </div>
                    
                    <div class="specialty-card">
                        <h4>Illustration</h4>
                        <p>Custom illustration work that enhances brand narratives and creates unique visual languages. From iconography to complex editorial illustrations.</p>
                    </div>
                </div>
            `;
            document.getElementById('detailContent').innerHTML = content;
            const panel = document.getElementById('detailPanel');
                panel.style.display = 'block';         
                panel.classList.remove('closing');    
                void panel.offsetWidth;              
                panel.classList.add('active');
        }

        function closeDetail() {
            const panel = document.getElementById('detailPanel');

            // Start hiding animation
            panel.classList.remove('active');
            panel.classList.add('closing');

            // 🔁 Reset zoom immediately, in parallel with the panel sliding out
            resetView();

            // Finish cleanup after animation
            setTimeout(() => {
                panel.classList.remove('closing');
                panel.style.display = 'none';
            }, 400); // Match your CSS animation duration
        }

        //Diagram animation function
        function runIntroAnimations() {
        const centerNode = node.filter(d => d.id === 'center');

        const svgElement = document.querySelector('.mind-map');
        svgElement.classList.add('visible');

        centerNode
            .transition()
            .duration(600)
            .style('opacity', 1);
        
        //Links are the lines and nodes are the text
        firstLevelLinks
            .style('opacity', 0)
            .transition()
            .delay(800)
            .duration(900)
            .style('opacity', 1)
            .attrTween('d', function(d) {
            const source = portfolioData.nodes.find(n => n.id === d.source);
            const target = portfolioData.nodes.find(n => n.id === d.target);

            const x1 = source.x, y1 = source.y;
            const x2 = target.x, y2 = target.y;

            const dx = x2 - x1;
            const dy = y2 - y1;
            const distance = Math.sqrt(dx * dx + dy * dy);

            // Curve height factor
            const curveFactor = 0.8;
            const cyOffset = distance * curveFactor;

            const cx = (x1 + x2) / 2;
            const cy = y1 + (dy > 0 ? 1 : -1) * cyOffset;

            // Build the full path string and measure it
            const tempPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
            tempPath.setAttribute("d", `M${x1},${y1} Q${cx},${cy} ${x2},${y2}`);
            const totalLength = tempPath.getTotalLength();

            return function(t) {
                const lengthAtT = totalLength * t;
                const pt = tempPath.getPointAtLength(lengthAtT);

                // Dynamically recalculate control point for smoother curve as it grows
                const dynamicCx = (x1 + pt.x) / 2;
                const dynamicCy = y1 + (pt.y - y1 > 0 ? 1 : -1) * cyOffset * t;

                return `M${x1},${y1} Q${dynamicCx},${dynamicCy} ${pt.x},${pt.y}`;
            };
            })
        
        firstLevelNodes
            .transition()
            .delay(820)
            .duration(600)
            .style('opacity', 1);

        secondLevelLinks
            .style('opacity', 0)
            .transition()
            .delay(1500)
            .duration(900)
            .style('opacity', 1)
            .attrTween('d', function(d) {
            const source = portfolioData.nodes.find(n => n.id === d.source);
            const target = portfolioData.nodes.find(n => n.id === d.target);

            const x1 = source.x, y1 = source.y;
            const x2 = target.x, y2 = target.y;

            const dx = x2 - x1;
            const dy = y2 - y1;
            const distance = Math.sqrt(dx * dx + dy * dy);

            // Curve height factor
            const curveFactor = 0.8;
            const cyOffset = distance * curveFactor;

            const cx = (x1 + x2) / 2;
            const cy = y1 + (dy > 0 ? 1 : -1) * cyOffset;

            // Build the full path string and measure it
            const tempPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
            tempPath.setAttribute("d", `M${x1},${y1} Q${cx},${cy} ${x2},${y2}`);
            const totalLength = tempPath.getTotalLength();

            return function(t) {
                const lengthAtT = totalLength * t;
                const pt = tempPath.getPointAtLength(lengthAtT);

                // Dynamically recalculate control point for smoother curve as it grows
                const dynamicCx = (x1 + pt.x) / 2;
                const dynamicCy = y1 + (pt.y - y1 > 0 ? 1 : -1) * cyOffset * t;

                return `M${x1},${y1} Q${dynamicCx},${dynamicCy} ${pt.x},${pt.y}`;
            };
            })

        secondLevelNodes
            .transition()
            .delay(1520)
            .duration(600)
            .style('opacity', 1);
        }

        //Load animation
        setTimeout(() => {
            const loadingText = document.querySelector('.loading-text');
            loadingText.classList.add('fade-out');
            runIntroAnimations();

            //Loading text fades out
            setTimeout(() => {
                loadingText.style.display = 'none';

                }, 800); // Match the fade-in transition
            }, 600); // Match the fade-out duration

    function resetView() {
    svg.transition()
        .duration(750)
        .call(
            zoom.transform,
            d3.zoomIdentity.translate(window.innerWidth / 2, window.innerHeight / 2)
        );
}

        // Handle window resize
        window.addEventListener('resize', () => {
    
        // Resize the SVG element
            svg
                .attr('width', window.innerWidth)
                .attr('height', window.innerHeight);

        // Center diagram
        const centerTransform = d3.zoomIdentity
            .translate(window.innerWidth / 2, window.innerHeight / 2);

        svg.call(zoom.transform, centerTransform);

        });

        // Close detail panel when clicking outside
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('detail-panel')) {
                closeDetail();
            }
        });

        // Close detail panel on Escape key
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                const panel = document.getElementById('detailPanel');
                if (panel.classList.contains('active')) {
                    closeDetail();
                }
            }
        });

        document.addEventListener('keydown', (event) => {
    const panel = document.getElementById('detailPanel');
    const isOpen = panel.classList.contains('active');

    if (event.key === 'Escape' && isOpen) {
        closeDetail();
    }

    // Arrow key navigation
    if (!isOpen || currentProjectIndex === null) return;

    if (event.key === 'ArrowRight') {
        // Go to next project
        currentProjectIndex = (currentProjectIndex + 1) % projectNodes.length;
        const next = projectNodes[currentProjectIndex];
        setTimeout(() => showProjectDetail(next.details), 150);
    }

    if (event.key === 'ArrowLeft') {
        // Go to previous project
        currentProjectIndex =
            (currentProjectIndex - 1 + projectNodes.length) % projectNodes.length;
        const prev = projectNodes[currentProjectIndex];
        setTimeout(() => showProjectDetail(prev.details), 150);
    }
});
    </script>
</body>
</html>
